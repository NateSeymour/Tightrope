import{b as I,c as N,m as E}from"./intl-701a3446.js";import{d as D,h as i,i as X,N as L,n as V,c as o,f as n,X as $,a as v,F as w,r as x,a2 as z,o as s,_ as Y,z as G,e as P,a3 as W,A,a4 as R,a5 as Z,b as O,a6 as U}from"./index-2991d910.js";import{_ as j}from"./MaterialOverlay.vue_vue_type_style_index_0_lang-4daae890.js";function*B(u){for(let d=0;d<u;d++)yield d}const q={class:"mass-editor"},H=z('<defs data-v-00713a9d><clipPath id="circleClip" data-v-00713a9d><path d="M 50,50 L 0,100 L 0,0 L 100,0 L 100,100 Z" data-v-00713a9d></path></clipPath><mask id="fullGuideMask" data-v-00713a9d><circle cx="50" cy="50" r="40" fill="white" data-v-00713a9d></circle><circle cx="50" cy="50" r="38" fill="black" data-v-00713a9d></circle></mask><mask id="halfGuideMask" data-v-00713a9d><circle cx="50" cy="50" r="40" fill="white" data-v-00713a9d></circle><circle cx="50" cy="50" r="38.5" fill="black" data-v-00713a9d></circle></mask></defs><path class="caret" fill="white" stroke="none" d="M 50,12 l -2,5 h 4 Z" data-v-00713a9d></path>',2),J={class:"selected-value","font-size":"8",fill:"white",x:"50%",y:"50%","text-anchor":"middle","dominant-baseline":"middle"},K={class:"value-ring","transform-origin":"center","clip-path":"url(#circleClip)"},Q=["transform"],ee={class:"guides"},te={class:"tenthGuideMarkers"},ae=["transform"],se={class:"halfGuideMarkers"},ne=["transform"],le={class:"fullGuideMarkers"},oe=["transform"],re=["startOffset"],ce=D({__name:"NumericWheel",props:{hint:null},emits:["valueSelected"],setup(u,{emit:d}){const k=u,g=I(),h=i(),_=5,M=100,c=M/_,l=i(0),f=i(0),m=X(()=>{const a=l.value+-100*(f.value/360)/_;return Math.round(a*10)/10}),t=L({x:0,y:0,rotation:0,direction:0});function y(a){l.value=Math.round(a);const p=l.value-a;f.value=p*(360/c),d("valueSelected",a)}function b(a){if(!h.value)return;a.preventDefault();const p=h.value.getBoundingClientRect();t.x=a.touches[0].pageX,t.y=a.touches[0].pageY,t.rotation=f.value,t.direction=t.x-p.left>=p.width/2?1:-1}function T(a){a.preventDefault(),f.value=(t.rotation+(a.touches[0].pageY-t.y))*t.direction}function F(a){a.preventDefault(),y(m.value)}return V(()=>{y(k.hint||0)}),(a,p)=>(s(),o("div",q,[(s(),o("svg",{onTouchstart:b,onTouchmove:T,onTouchend:F,ref_key:"editor",ref:h,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[H,n("text",J,$(v(m))+" "+$(v(g).units.Mass.short),1),n("g",K,[n("g",{"transform-origin":"center",transform:`rotate(${f.value})`,class:"inner"},[n("g",ee,[n("g",te,[(s(!0),o(w,null,x(v(B)(c*10),e=>(s(),o("path",{key:e,transform:`rotate(${e*(360/(c*10))})`,stroke:"rgb(150,150,150)","stroke-width":"0.5","transform-origin":"50% 50%",d:"M 50,10 v 1"},null,8,ae))),128))]),n("g",se,[(s(!0),o(w,null,x(v(B)(c),e=>(s(),o("path",{key:e,transform:`rotate(${(e+.5)*(360/c)})`,stroke:"white","stroke-width":"0.5","transform-origin":"50% 50%",d:"M 50,10 v 1.5"},null,8,ne))),128))]),n("g",le,[(s(!0),o(w,null,x(v(B)(c),e=>(s(),o("path",{key:e,transform:`rotate(${e*(360/c)})`,stroke:"white","stroke-width":"1","transform-origin":"50% 50%",d:"M 50,10 v 2"},null,8,oe))),128))])]),n("path",{id:"scale-guide",stroke:"white","stroke-width":"0.5",fill:"none","transform-origin":"center",pathLength:M,d:`M 50,90
                            A 40,40,0,1,1,50,10
                            A 40,40,0,1,1,50,90
                            Z`}),(s(!0),o(w,null,x(v(B)(c),e=>(s(),o("text",{class:"scale-text",dy:"-2",key:e,fill:"white","text-anchor":"middle","dominant-baseline":"middle"},[n("textPath",{x:"0",y:"0","font-size":"4",startOffset:e*_,"xlink:href":"#scale-guide"},$(l.value+(e-c/2)+-1*Math.floor((f.value+e/c*360)/360)*c),9,re)]))),128))],8,Q)])],544))]))}});const ue=Y(ce,[["__scopeId","data-v-00713a9d"]]),ye=D({__name:"DomainEditor",props:{metric:null,hint:null},emits:["valueSelected"],setup(u,{emit:d}){const k=u;return(g,h)=>k.metric.metric_type==v(N).Mass?(s(),G(ue,{key:0,onValueSelected:h[0]||(h[0]=_=>d("valueSelected",_)),hint:u.hint},null,8,["hint"])):P("",!0)}}),ie=u=>(R("data-v-b9f618f3"),u=u(),Z(),u),de={class:"best-calendar"},he={class:"top"},ve={class:"title"},_e={class:"calendar-body"},fe=["onClick"],me=ie(()=>n("svg",null,[n("circle")],-1)),pe=D({__name:"BestCalendar",props:{hint:null},emits:["dateSelected"],setup(u,{emit:d}){const k=u,g=i(new Date(k.hint||Date.now())),h=i(g.value.getFullYear()),_=i(g.value.getMonth()),M=i(g.value.getDate()),c=X(()=>new Date(h.value,_.value,M.value)),l=i(new Date(g.value)),f=X(()=>[new Date(l.value.getFullYear(),l.value.getMonth()-1,l.value.getDate()),l.value,new Date(l.value.getFullYear(),l.value.getMonth()+1,l.value.getDate())]),m=i(!0),t=i(0),y=i(0),b=i();function T(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function F(){const e=b.value,S=[];if(t.value>=e.clientWidth/4||t.value<=-(e.clientWidth/4)){m.value=!1;for(const r of e.children)S.push(r.animate([{transform:`translateX(calc(-100% + ${t.value}px))`},{transform:`translateX(${t.value>0?"0":"-200%"})`}],{duration:100,fill:"forwards",easing:"ease-out"}));setTimeout(()=>{l.value=new Date(l.value.getFullYear(),l.value.getMonth()+(t.value>0?-1:1),l.value.getDate());for(const r of S)r.cancel();t.value=0,m.value=!0},100)}else{m.value=!1;for(const r of e.children)S.push(r.animate([{transform:`translateX(calc(-100% + ${t.value}px))`},{transform:"translateX(-100%)"}],{duration:100,fill:"forwards",easing:"ease-out"}));setTimeout(()=>{for(const r of S)r.cancel();t.value=0,m.value=!0},100)}}function a(e){y.value=e.touches[0].clientX}function p(e){m.value&&(t.value=e.touches[0].clientX-y.value)}return V(()=>{d("dateSelected",c.value)}),(e,S)=>(s(),o("div",de,[n("div",{ref_key:"carouselEl",ref:b,class:"carousel"},[(s(!0),o(w,null,x(v(f),r=>(s(),o("div",{onTouchmove:p,onTouchstart:a,onTouchend:F,class:"page",style:W(`transform: translateX(calc(-100% + ${t.value}px))`),key:r.getUTCSeconds()},[n("div",he,[n("h4",ve,$(v(E).format(r)),1)]),n("div",_e,[(s(!0),o(w,null,x(T(r),C=>(s(),o("div",{onClick:()=>{h.value=r.getFullYear(),_.value=r.getMonth(),M.value=C,e.$emit("dateSelected",v(c))},class:A([M.value==C&&_.value==r.getMonth()&&h.value==r.getFullYear()?"selected":"","calendar-el"]),key:C},[n("span",null,$(C),1),me],10,fe))),128))])],36))),128))],512)]))}});const Se=Y(pe,[["__scopeId","data-v-b9f618f3"]]),ge={class:"material-button"},ke=D({__name:"MaterialButton",setup(u){return(d,k)=>(s(),o("div",ge,[O(j,{selectable:!1}),n("button",null,[U(d.$slots,"default",{},void 0,!0)])]))}});const $e=Y(ke,[["__scopeId","data-v-9cccbcdc"]]);export{Se as B,$e as M,ye as _};
